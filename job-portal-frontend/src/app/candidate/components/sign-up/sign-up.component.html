<div class="login-container">
  <form
    [formGroup]="signUpForm"
    class="login-form"
    fxLayout="column"
    fxLayoutAlign="center center"
  >
    <h2>Candidate Sign Up</h2>
    <!-- first name -->
    <mat-form-field floatLabel="never">
      <input
        matInput
        type="text"
        formControlName="firstName"
        placeholder="First Name"
      />
    </mat-form-field>
    <div
      *ngIf="
        signUpForm.get('firstName')?.dirty ||
        signUpForm.get('firstName')?.touched
      "
    >
      <mat-error *ngIf="signUpForm.get('firstName')?.errors?.['required']">
        First name is required
      </mat-error>
    </div>

    <!-- last name -->
    <mat-form-field floatLabel="never">
      <input
        matInput
        type="text"
        formControlName="lastName"
        placeholder="Last Name"
      />
    </mat-form-field>
    <div
      *ngIf="
        signUpForm.get('lastName')?.dirty || signUpForm.get('lastName')?.touched
      "
    >
      <mat-error *ngIf="signUpForm.get('lastName')?.errors?.['required']">
        Last name is required
      </mat-error>
    </div>

    <!-- email -->
    <mat-form-field floatLabel="never">
      <input
        matInput
        type="text"
        formControlName="email"
        placeholder="Email Id"
      />
    </mat-form-field>
    <div
      *ngIf="
        (signUpForm.get('email')?.dirty || signUpForm.get('email')?.touched) &&
        signUpForm.get('email')?.invalid
      "
    >
      <mat-error *ngIf="signUpForm.get('email')?.errors?.['required']">
        Email Id is required
      </mat-error>
      <mat-error *ngIf="signUpForm.get('email')?.errors?.['email']">
        Email Id is invalid
      </mat-error>
    </div>

    <!-- password -->
    <mat-form-field floatLabel="never">
      <input
        matInput
        type="password"
        maxlength="20"
        formControlName="password"
        placeholder="Password"
      />
    </mat-form-field>
    <div
      *ngIf="
        (signUpForm.get('password')?.dirty ||
          signUpForm.get('password')?.touched) &&
        signUpForm.get('password')?.invalid
      "
    >
      <mat-error *ngIf="signUpForm.get('password')?.errors?.['required']">
        Password is required
      </mat-error>
    </div>

    <!-- phone -->
    <mat-form-field floatLabel="never">
      <input
        matInput
        type="text"
        formControlName="phone"
        placeholder="Phone Number"
      />
    </mat-form-field>
    <div
      *ngIf="signUpForm.get('phone')?.dirty || signUpForm.get('phone')?.touched"
    >
      <mat-error *ngIf="signUpForm.get('phone')?.errors?.['required']">
        Phone Number is required
      </mat-error>
    </div>

    <!-- age -->
    <mat-form-field floatLabel="never">
      <input matInput type="text" formControlName="age" placeholder="Age" />
    </mat-form-field>
    <div *ngIf="signUpForm.get('age')?.dirty || signUpForm.get('age')?.touched">
      <mat-error *ngIf="signUpForm.get('age')?.errors?.['required']">
        Age is required
      </mat-error>
    </div>

    <!-- certificate -->
    <button
      mat-raised-button
      (click)="openInput()"
      *ngIf="!certificateUploaded"
    >
      Select Certificate
    </button>
    <input
      id="fileInput"
      hidden
      type="file"
      (change)="uploadCertificate($event)"
      accept=".jpg,.jpeg,.png"
      required
    />
    <div *ngIf="certificateUploaded">
      <a
        [href]="
          'http://localhost:3000/public/certificates/' +
          signUpForm.value.certificate_path
        "
        target="_blank"
        >View Uploaded File</a
      >
    </div>

    <div class="login-form-action">
      <button class="login-button" mat-raised-button (click)="signUp()">
        Sign Up
      </button>
      <a class="sign-up-link" (click)="signIn()"
        >Already on Job Portal? Sign in</a
      >
    </div>
  </form>
  <a class="company-sign-up-link" (click)="companySignUp()"
    >Are you recruiter? Join Us</a
  >
</div>
